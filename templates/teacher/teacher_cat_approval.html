{% extends "teacher/teacher_left_bar.html" %}
{% block title %}
    <link rel="stylesheet" href="/static/css/table_scroll.css">
    <link rel="stylesheet" href="/static/css/student_cat_class.css">
    <title>审批列表</title>
{% endblock title %}

{% block content %}
    <div class="class-info-container">
        <h1 class="class-title">审批列表</h1>
        <br>
        <div class="tablebox">

            <table id="tableId" border="0" cellspacing="0" cellpadding="0">
                <thead>
                <tr class="class-info-title">
                    <th>发起日期</th>
                    <th>发起人</th>
                    <th>学号</th>
                    <th>标题</th>
                    <th>详情</th>
                </tr>
                </thead>
                <tbody>
                {% for approval in approval_info %}

                    <tr id="{{ approval.unique_code }}">
                        <th>{{ approval.gen_time }}</th>
                        <th>{{ approval.user_info.username }}</th>
                        <th>{{ approval.user_info.code }}</th>
                        <th>{{ approval.title }}</th>
                        {#                        <th><a class="approval-info" id="{{ approval.unique_code }}">详情</a></th>#}
                        <th>
                            <button class="btn btn-primary select-approval" type="button" data-bs-toggle="offcanvas"
                                    data-bs-target="#offcanvasRight"
                                    aria-controls="offcanvasRight" id="{{ approval.unique_code }}">详情
                            </button>
                        </th>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

    <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasRight" aria-labelledby="offcanvasRightLabel">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="offcanvasRightLabel">审批详情</h5>

            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body right-bar">

        </div>
    </div>
    <script type="text/javascript" src="/static/static/jquery-3.6.0.js"></script>
    <script type="text/javascript" src='/static/js/table_scroll.js'></script>
    <script type="text/javascript" src='/static/js/teacher_approval.js'></script>
{% endblock content %}
